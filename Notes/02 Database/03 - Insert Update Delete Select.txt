01 - add constructor to service
    mport { InjectRepository } from "@nestjs/typeorm";
    import { Repository } from "typeorm";
    import { Injectable } from "@nestjs/common";

    constructor(
        @InjectRepository(User) protected readonly userReopsitory: Repository<User> 
    ){}


02 - create insertion function within the service

    async insertUser(body: any){
        return this.userReopsitory.save(body)
    }


03 - call the insertion funciotn in the controller
    import { BadRequestException, Body, Controller, Post, InternalServerErrorException } from '@nestjs/common';

    @Post('register')
    async register(@Body() body: any){
        if (body.password != body.password_confirm){
            throw new BadRequestException('Passwords do not mathc!');
        }

        try {
            await this.userService.newUser({
                first_name: body.first_name,
                last_name: body.last_name,
                email: body.email,
                password: body.password
            })

            return {
                message: "New user has been inserted successfully."
            }
        } catch (error) {
        // Handle the error here
            throw new InternalServerErrorException('Failed to inset new user', error);
        }
    }



